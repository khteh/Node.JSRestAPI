var cov_1b4wyrwd8f=function(){var path="C:\\Projects\\Node.js\\Node.JSRestAPI\\lib\\db.js";var hash="065f40724282e01e97b3274c5cf4a79b6502a929";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Projects\\Node.js\\Node.JSRestAPI\\lib\\db.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:28}},"1":{start:{line:2,column:0},end:{line:2,column:27}},"2":{start:{line:3,column:0},end:{line:30,column:2}},"3":{start:{line:5,column:17},end:{line:12,column:2}},"4":{start:{line:14,column:12},end:{line:14,column:45}},"5":{start:{line:15,column:1},end:{line:28,column:4}},"6":{start:{line:16,column:5},end:{line:27,column:6}},"7":{start:{line:17,column:9},end:{line:17,column:57}},"8":{start:{line:18,column:9},end:{line:18,column:29}},"9":{start:{line:21,column:9},end:{line:26,column:12}},"10":{start:{line:22,column:13},end:{line:23,column:75}},"11":{start:{line:23,column:17},end:{line:23,column:75}},"12":{start:{line:24,column:13},end:{line:24,column:24}},"13":{start:{line:25,column:13},end:{line:25,column:33}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:7},end:{line:4,column:8}},loc:{start:{line:4,column:33},end:{line:29,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:14},end:{line:15,column:15}},loc:{start:{line:15,column:29},end:{line:28,column:2}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:27},end:{line:21,column:28}},loc:{start:{line:21,column:56},end:{line:26,column:10}},line:21}},branchMap:{"0":{loc:{start:{line:16,column:5},end:{line:27,column:6}},type:"if",locations:[{start:{line:16,column:5},end:{line:27,column:6}},{start:{line:16,column:5},end:{line:27,column:6}}],line:16},"1":{loc:{start:{line:22,column:13},end:{line:23,column:75}},type:"if",locations:[{start:{line:22,column:13},end:{line:23,column:75}},{start:{line:22,column:13},end:{line:23,column:75}}],line:22}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"065f40724282e01e97b3274c5cf4a79b6502a929"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var mysql=(cov_1b4wyrwd8f.s[0]++,require('mysql'));cov_1b4wyrwd8f.s[1]++;config=require('config');cov_1b4wyrwd8f.s[2]++;module.exports={query:function(query,callback){cov_1b4wyrwd8f.f[0]++;var connParam=(cov_1b4wyrwd8f.s[3]++,{host:config.get('DBHost'),port:config.get('Port'),user:config.get('Username'),password:config.get('Password'),database:config.get('Database'),insecureAuth:true});//console.log("db: connection: " + JSON.stringify(connParam));
var conn=(cov_1b4wyrwd8f.s[4]++,mysql.createConnection(connParam));cov_1b4wyrwd8f.s[5]++;conn.connect(function(err){cov_1b4wyrwd8f.f[1]++;cov_1b4wyrwd8f.s[6]++;if(err){cov_1b4wyrwd8f.b[0][0]++;cov_1b4wyrwd8f.s[7]++;console.error('error connecting: '+err.stack);cov_1b4wyrwd8f.s[8]++;callback(err,null);}else{cov_1b4wyrwd8f.b[0][1]++;cov_1b4wyrwd8f.s[9]++;//console.log('connected as id ' + conn.threadId);
conn.query(query,function(err,rows,fields){cov_1b4wyrwd8f.f[2]++;cov_1b4wyrwd8f.s[10]++;if(err){cov_1b4wyrwd8f.b[1][0]++;cov_1b4wyrwd8f.s[11]++;console.error("db.query() error: "+JSON.stringify(err));}else{cov_1b4wyrwd8f.b[1][1]++;}cov_1b4wyrwd8f.s[12]++;conn.end();cov_1b4wyrwd8f.s[13]++;callback(err,rows);});}});}};